# Командный проект по курсу

# «Профессиональная работа с Python»

# 1. Принцип работы программы: 
- #### **Программа производит поиск Кандидата для знакомства (или других поставленных задач) по критериям собеседника в чате с ботом.**
- #### **Результатам работы программы является БД с тремя таблицами:**
      Данные по Кандидатам отобранных по критериям поиска 
        (Фамилия Имя,Ссылка на профиль, Отобранные фото);
      ID Кандидатов из списка Избранные;
      ID Кандидатов из Черного списка;
- #### **Программа завершается при нажатии в чате кнопки "показать избранное и закончить"**
- #### **При завершении программы в чат с ботом выводится полный список Кандидатов из БД согласно таблице Избранное**



# 2. Для запуска программы необходимо: 

- создать файл settings.ini со следующими данными
  
   [settings]

   user_token = 'token - сообщества(бота) ВК'

   photo_token = 'token - приложения ВК'
   
   [database]
   
   connstr = postgresql://postgres:postgres@localhost:5432/Имя_db
- также необходимо ознакомиться с информацией в файле readme_db.md

# 3. Документация по использованию программы

- Программа запускается через файл vk_bot.py
- Дале необходимо перейти в чат сообщества VK с ботом. 
- Для запуска поиска Кандидатов в чате необходимо написать
"Привет" и/или нажать на кнопку "Запустить поиск Кандидатов"(если она уже появилась)
- Критерии поиска определяются из профиля собеседника в чате автоматически и 
следующим образом: Город выбирается из профиля собеседника; Возраст принимается из профиля собеседника -
поиск происходит по критериям +/- 5лет от выбранного возраста(т.к. в профили Кандидатов существует дата 
рождения без указания года рождения, поэтому для ускорения поиска данные условия внесены в критерий отбора); 
Пол принимается из профиля собеседника - критерием поиска устанавливается противоположный пол 
- Найденный Кандидат по критериям поиска автоматический записывается в БД.
- Для устранения ошибок при записи в БД осуществлен алгоритм проверки на наличие повторов ID Кандидатов
- Количество запросов ID Кандидатов устанавливается параметром "number_attempts"
- Кнопками "в избранное" и "в черный список" ID Кандидатов вносятся в соответствующие таблицы БД
- При нажатии кнопки "показать избранное и закончить" происходит вывод таблицы БД чат из избранных Кандидатов
с последующим ВЫХОДОМ из программ.